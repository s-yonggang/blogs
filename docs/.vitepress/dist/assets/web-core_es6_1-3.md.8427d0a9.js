import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.5b0c684c.js";const d=JSON.parse('{"title":"å­—ç¬¦ä¸²æ‹“å±•","description":"","frontmatter":{},"headers":[],"relativePath":"web-core/es6/1-3.md","filePath":"web-core/es6/1-3.md","lastUpdated":1729031503000}'),p={name:"web-core/es6/1-3.md"},o=l(`<h1 id="å­—ç¬¦ä¸²æ‹“å±•" tabindex="-1">å­—ç¬¦ä¸²æ‹“å±• <a class="header-anchor" href="#å­—ç¬¦ä¸²æ‹“å±•" aria-label="Permalink to &quot;å­—ç¬¦ä¸²æ‹“å±•&quot;">â€‹</a></h1><h2 id="å­—ç¬¦çš„-unicode-è¡¨ç¤ºæ³•" tabindex="-1">å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³• <a class="header-anchor" href="#å­—ç¬¦çš„-unicode-è¡¨ç¤ºæ³•" aria-label="Permalink to &quot;å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•&quot;">â€‹</a></h2><ul><li>ES6 åŠ å¼ºäº†å¯¹ Unicode çš„æ”¯æŒï¼Œå…è®¸é‡‡ç”¨<code>\\uxxxx</code>å½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­xxxxè¡¨ç¤ºå­—ç¬¦çš„ Unicode ç ç‚¹ã€‚</li><li>åªé™äºç ç‚¹åœ¨<code>\\u0000~\\uFFFF</code>ä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ä¸¤ä¸ª<code>åŒå­—èŠ‚çš„å½¢å¼è¡¨ç¤º</code>ï¼Œæˆ–è€…å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ä½¿ç”¨ Unicode è¡¨ç¤º &quot;ğ ®·&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\u20BB</span><span style="color:#9ECBFF;">7&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// &quot; 7&quot; ç›´æ¥ä½¿ç”¨ Ã— </span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\uD842\\uDFB7</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// &quot;ğ ®·&quot; ä½¿ç”¨åŒå­—èŠ‚ âˆš </span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\u{20BB7}</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// &quot;ğ ®·&quot; ä½¿ç”¨ {} âˆš</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ä½¿ç”¨ Unicode è¡¨ç¤º &quot;ğ ®·&quot;</span></span>
<span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\u20BB</span><span style="color:#032F62;">7&quot;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// &quot; 7&quot; ç›´æ¥ä½¿ç”¨ Ã— </span></span>
<span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\uD842\\uDFB7</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// &quot;ğ ®·&quot; ä½¿ç”¨åŒå­—èŠ‚ âˆš </span></span>
<span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\u{20BB7}</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// &quot;ğ ®·&quot; ä½¿ç”¨ {} âˆš</span></span></code></pre></div><blockquote><p>ä¸Šé¢ç¤ºä¾‹ &quot;ğ ®·&quot; çš„è¡¨ç¤ºæ–¹å¼ï¼Œç”±äº<code>20BB7</code> å¤§äº <code>FFFF</code>ï¼Œjavascriptä¼šç†è§£æˆ<code>\\u20BB+7</code>ï¼Œè€Œ<code>\\u20BB</code>æ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦ï¼Œæ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼ï¼Œåé¢è·Ÿç€ä¸€ä¸ª 7ã€‚</p></blockquote><h2 id="å­—ç¬¦åŠå­—ç¬¦è½¬ä¹‰" tabindex="-1">å­—ç¬¦åŠå­—ç¬¦è½¬ä¹‰ <a class="header-anchor" href="#å­—ç¬¦åŠå­—ç¬¦è½¬ä¹‰" aria-label="Permalink to &quot;å­—ç¬¦åŠå­—ç¬¦è½¬ä¹‰&quot;">â€‹</a></h2><ul><li>JavaScriptå­—ç¬¦ä¸²å…è®¸ç›´æ¥è¾“å…¥å­—ç¬¦ï¼Œæˆ–è€…å­—ç¬¦çš„è½¬ä¹‰å½¢å¼ï¼Œä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚å¦‚ï¼š<code>&#39;ä¸­&#39; === &#39;\\u4e2d&#39;</code></li><li>JavaScript è§„å®šæœ‰5ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½¿ç”¨è½¬ä¹‰å½¢å¼ã€‚ <ul><li>U+005Cï¼šåæ–œæ ï¼ˆreverse solidusï¼‰</li><li>U+000Dï¼šå›è½¦ï¼ˆcarriage returnï¼‰</li><li>U+2028ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰</li><li>U+2029ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰</li><li>U+000Aï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰</li></ul></li></ul><p>å­—ç¬¦ä¸²é‡Œé¢ä¸èƒ½ç›´æ¥åŒ…å«åæ–œæ ï¼ˆè¢«è½¬ä¹‰ï¼Œå¾—ä¸åˆ°æƒ³è¦çš„ç»“æœï¼Œæˆ–è€…æŠ¥é”™ï¼‰ï¼Œä¸€å®šè¦è½¬ä¹‰å†™æˆ<code>\\\\</code>æˆ–è€…<code>\\u005c</code>ã€‚</p><div class="info custom-block"><p class="custom-block-title">æ³¨æ„</p><ol><li><p>JSON æ ¼å¼å…è®¸å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒæœåŠ¡å™¨è¾“å‡ºçš„ JSON è¢«JSON.parseè§£æï¼Œå°±æœ‰å¯èƒ½ç›´æ¥æŠ¥é”™ã€‚</p></li><li><p>åœ¨ES2019 å…è®¸ JavaScript å­—ç¬¦ä¸²ç›´æ¥è¾“å…¥ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚</p></li><li><p>ä½†æ­£åˆ™è¡¨è¾¾å¼ä¾ç„¶ä¸å…è®¸ç›´æ¥è¾“å…¥ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰è¿™ä¸¤ä¸ªå­—ç¬¦ã€‚</p></li></ol></div><h2 id="json-stringify" tabindex="-1">JSON.stringify() <a class="header-anchor" href="#json-stringify" aria-label="Permalink to &quot;JSON.stringify()&quot;">â€‹</a></h2><p><strong>å­˜åœ¨é—®é¢˜</strong></p><p>æ ¹æ®æ ‡å‡†ï¼ŒJSON æ•°æ®å¿…é¡»æ˜¯ UTF-8 ç¼–ç ã€‚ä½†æ˜¯ï¼Œç°åœ¨çš„JSON.stringify()æ–¹æ³•æœ‰å¯èƒ½è¿”å›ä¸ç¬¦åˆ UTF-8 æ ‡å‡†çš„å­—ç¬¦ä¸²ã€‚</p><blockquote><p>UTF-8 æ ‡å‡†è§„å®šï¼Œ0xD800åˆ°0xDFFFä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚ æ¯”å¦‚ï¼Œ\\uD834\\uDF06æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦ğŒ†ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨\\uD834å’Œ\\uDFO6è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œå› ä¸º\\uDF06\\uD834å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚</p></blockquote><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>ES2019 æ”¹å˜äº†JSON.stringify()çš„è¡Œä¸ºï¼Œç¡®ä¿è¿”å›æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ã€‚</p><blockquote><p>å¦‚æœé‡åˆ°0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼šè¿”å›è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚</p></blockquote><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\\u{D834}</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;&quot;\\\\uD834&quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\\uDF06\\uD834</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;&quot;\\\\udf06\\\\ud834&quot;&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\\u{D834}</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;&quot;\\\\uD834&quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\\uDF06\\uD834</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;&quot;\\\\udf06\\\\ud834&quot;&quot;</span></span></code></pre></div><h2 id="æ¨¡æ¿å­—ç¬¦ä¸²" tabindex="-1">æ¨¡æ¿å­—ç¬¦ä¸² <a class="header-anchor" href="#æ¨¡æ¿å­—ç¬¦ä¸²" aria-label="Permalink to &quot;æ¨¡æ¿å­—ç¬¦ä¸²&quot;">â€‹</a></h2><p>æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å· ï¼ˆ\`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">\`string text\`</span></span>
<span class="line"><span style="color:#9ECBFF;">\`string text line 1</span></span>
<span class="line"><span style="color:#9ECBFF;"> string text line 2\`</span></span>
<span class="line"><span style="color:#9ECBFF;">\`string text \${</span><span style="color:#E1E4E8;">expression</span><span style="color:#9ECBFF;">} string text\`</span></span>
<span class="line"><span style="color:#B392F0;">tagFunction</span><span style="color:#9ECBFF;">\`string text \${</span><span style="color:#E1E4E8;">expression</span><span style="color:#9ECBFF;">} string text\`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">\`string text\`</span></span>
<span class="line"><span style="color:#032F62;">\`string text line 1</span></span>
<span class="line"><span style="color:#032F62;"> string text line 2\`</span></span>
<span class="line"><span style="color:#032F62;">\`string text \${</span><span style="color:#24292E;">expression</span><span style="color:#032F62;">} string text\`</span></span>
<span class="line"><span style="color:#6F42C1;">tagFunction</span><span style="color:#032F62;">\`string text \${</span><span style="color:#24292E;">expression</span><span style="color:#032F62;">} string text\`</span></span></code></pre></div><ul><li>é€šè¿‡ä½¿ç”¨å ä½ç¬¦ \${expression} åµŒå…¥å¾…æ›¿æ¢çš„è¡¨è¾¾å¼ï¼Œå¤§æ‹¬å·å†…éƒ¨å¯ä»¥æ”¾å…¥ä»»æ„çš„ JavaScript è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—ï¼Œä»¥åŠå¼•ç”¨å¯¹è±¡å±æ€§ã€‚è¡¨è¾¾å¼æ‰§è¡Œå®Œæˆåšï¼Œå¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li><li>è‹¥è¦è½¬ä¹‰æ¨¡æ¿å­—é¢é‡ä¸­çš„åå¼•å·ï¼ˆ\`ï¼‰ï¼Œéœ€åœ¨åå¼•å·ä¹‹å‰åŠ ä¸€ä¸ªåæ–œæ ï¼ˆ\\ï¼‰ã€‚</li><li>å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„è½¬ä¹‰åºåˆ—éƒ½æ˜¯å…è®¸çš„ï¼Œä»»ä½•å…¶ä»–æ ¼å¼ä¸æ­£ç¡®çš„è½¬ä¹‰åºåˆ—éƒ½æ˜¯è¯­æ³•é”™è¯¯ã€‚ <blockquote><p>\\ åè·Ÿ 0 ä»¥å¤–çš„ä»»ä½•åè¿›åˆ¶æ•°å­—ï¼Œè¯­æ³•æŠ¥é”™ï¼›<br> \\x åè·Ÿä¸¤ä½ä»¥ä¸‹åå…­è¿›åˆ¶æ•°å­—ï¼Œè¯­æ³•æŠ¥é”™ï¼›<br> \\u åä¸è·Ÿ {}ï¼Œå¹¶ä¸”åè·Ÿå››ä¸ªä»¥ä¸‹åå…­è¿›åˆ¶æ•°å­—ï¼Œè¯­æ³•æŠ¥é”™ï¼›</p></blockquote></li></ul><h3 id="æ¨¡æ¿ç¼–è¯‘" tabindex="-1">æ¨¡æ¿ç¼–è¯‘ <a class="header-anchor" href="#æ¨¡æ¿ç¼–è¯‘" aria-label="Permalink to &quot;æ¨¡æ¿ç¼–è¯‘&quot;">â€‹</a></h3><p>é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç”Ÿæˆæ­£å¼æ¨¡æ¿çš„å®ä¾‹ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;% for(let i=0; i &lt; data.supplies.length; i++) { %&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;% } %&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">\`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`</span></span>
<span class="line"><span style="color:#032F62;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;% for(let i=0; i &lt; data.supplies.length; i++) { %&gt;</span></span>
<span class="line"><span style="color:#032F62;">    &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;% } %&gt;</span></span>
<span class="line"><span style="color:#032F62;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">\`</span><span style="color:#24292E;">;</span></span></code></pre></div><p>è¯¥æ¨¡æ¿ä½¿ç”¨<code>&lt;%...%&gt;</code>æ”¾ç½® JavaScript ä»£ç ï¼Œä½¿ç”¨<code>&lt;%= ... %&gt;</code>è¾“å‡º JavaScript è¡¨è¾¾å¼ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// compile å°è£…</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">compile</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">template</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">evalExpr</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%=(</span><span style="color:#79B8FF;">.</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">expr</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%(</span><span style="color:#79B8FF;">[\\s\\S]</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> template</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(evalExpr, </span><span style="color:#9ECBFF;">&#39;\`); </span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">  echo( $1 ); </span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">  echo(\`&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(expr, </span><span style="color:#9ECBFF;">&#39;\`); </span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;"> $1 </span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">  echo(\`&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;echo(\`&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> template </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;\`);&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> script </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">\`(function parse(data){</span></span>
<span class="line"><span style="color:#9ECBFF;">    let output = &quot;&quot;;</span></span>
<span class="line"><span style="color:#9ECBFF;">    function echo(html){</span></span>
<span class="line"><span style="color:#9ECBFF;">      output += html;</span></span>
<span class="line"><span style="color:#9ECBFF;">    }</span></span>
<span class="line"><span style="color:#9ECBFF;">    \${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">template</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">    return output;</span></span>
<span class="line"><span style="color:#9ECBFF;">  })\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> script;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// compile å°è£…</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">compile</span><span style="color:#24292E;">(</span><span style="color:#E36209;">template</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">evalExpr</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%=(</span><span style="color:#005CC5;">.</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">expr</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%(</span><span style="color:#005CC5;">[\\s\\S]</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> template</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(evalExpr, </span><span style="color:#032F62;">&#39;\`); </span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">  echo( $1 ); </span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">  echo(\`&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(expr, </span><span style="color:#032F62;">&#39;\`); </span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;"> $1 </span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">  echo(\`&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;echo(\`&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> template </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;\`);&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> script </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">\`(function parse(data){</span></span>
<span class="line"><span style="color:#032F62;">    let output = &quot;&quot;;</span></span>
<span class="line"><span style="color:#032F62;">    function echo(html){</span></span>
<span class="line"><span style="color:#032F62;">      output += html;</span></span>
<span class="line"><span style="color:#032F62;">    }</span></span>
<span class="line"><span style="color:#032F62;">    \${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">template</span><span style="color:#032F62;"> </span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">    return output;</span></span>
<span class="line"><span style="color:#032F62;">  })\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> script;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>è°ƒç”¨ compile å‡½æ•°</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> parse </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eval</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">compile</span><span style="color:#E1E4E8;">(template));</span></span>
<span class="line"><span style="color:#E1E4E8;">div.innerHTML </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">({ supplies: [ </span><span style="color:#9ECBFF;">&quot;broom&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;mop&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;cleaner&quot;</span><span style="color:#E1E4E8;"> ] });</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;ul&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;broom&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;mop&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;cleaner&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;/ul&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// eval å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸å±é™©çš„å‡½æ•°</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> parse </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eval</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">compile</span><span style="color:#24292E;">(template));</span></span>
<span class="line"><span style="color:#24292E;">div.innerHTML </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">({ supplies: [ </span><span style="color:#032F62;">&quot;broom&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;mop&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;cleaner&quot;</span><span style="color:#24292E;"> ] });</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;ul&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;broom&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;mop&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;cleaner&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;/ul&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// eval å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸å±é™©çš„å‡½æ•°</span></span></code></pre></div><h2 id="æ ‡ç­¾æ¨¡æ¿" tabindex="-1">æ ‡ç­¾æ¨¡æ¿ <a class="header-anchor" href="#æ ‡ç­¾æ¨¡æ¿" aria-label="Permalink to &quot;æ ‡ç­¾æ¨¡æ¿&quot;">â€‹</a></h2><p>æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ã€‚è¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¿™è¢«ç§°ä¸º <code>æ ‡ç­¾æ¨¡æ¿</code> åŠŸèƒ½ï¼ˆtagged templateï¼‰ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">alert</span><span style="color:#9ECBFF;">\`hello\`</span></span>
<span class="line"><span style="color:#6A737D;">// ç­‰åŒäº</span></span>
<span class="line"><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;hello&#39;</span><span style="color:#E1E4E8;">])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">alert</span><span style="color:#032F62;">\`hello\`</span></span>
<span class="line"><span style="color:#6A737D;">// ç­‰åŒäº</span></span>
<span class="line"><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;hello&#39;</span><span style="color:#24292E;">])</span></span></code></pre></div><p>æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚</p><ul><li>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ï¼›</li><li>æ•´ä¸ªè¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œå°±æ˜¯å‡½æ•°å¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²åçš„è¿”å›å€¼ã€‚ <blockquote><p>å‡½æ•°å‚æ•°ï¼š<br> ç¬¬ä¸€ä¸ªå‚æ•°ï¼š[ ] ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†<br> åé¢çš„å‚æ•°: ...restï¼Œæ˜¯\${...} è¡¨è¾¾å¼çš„å€¼<br></p></blockquote></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> a </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> b </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">v1</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">v2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(v1);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(v2);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;OK&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#B392F0;">tag</span><span style="color:#9ECBFF;">\`Hello \${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">} world \${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; world &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// 15</span></span>
<span class="line"><span style="color:#6A737D;">// 50</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;OK&quot; è¿™æ˜¯å‡½æ•°è¿”å›å€¼</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#E36209;">v1</span><span style="color:#24292E;">, </span><span style="color:#E36209;">v2</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(v1);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(v2);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;OK&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#032F62;">\`Hello \${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;"> </span><span style="color:#032F62;">} world \${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; world &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// 15</span></span>
<span class="line"><span style="color:#6A737D;">// 50</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;OK&quot; è¿™æ˜¯å‡½æ•°è¿”å›å€¼</span></span></code></pre></div><p><strong>æ ‡ç­¾æ¨¡æ¿çš„åº”ç”¨</strong>:</p><ul><li>å°±æ˜¯è¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ã€‚</li><li>å¤šè¯­è¨€è½¬æ¢ï¼ˆå›½é™…åŒ–å¤„ç†ï¼‰ã€‚</li><li>jsxå‡½æ•°å°è£…ç­‰ç­‰ã€‚</li></ul><h2 id="å­—ç¬¦æ–°å¢æ–¹æ³•" tabindex="-1">å­—ç¬¦æ–°å¢æ–¹æ³• <a class="header-anchor" href="#å­—ç¬¦æ–°å¢æ–¹æ³•" aria-label="Permalink to &quot;å­—ç¬¦æ–°å¢æ–¹æ³•&quot;">â€‹</a></h2><p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p><ul><li>String.fromCodePoint()</li><li>String.raw()</li></ul><p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p><ul><li>String.prototype.codePointAt()</li><li>String.prototype.normalize()</li><li>String.prototype.includes()</li><li>String.prototype.startsWith()</li><li>String.prototype.endsWith()</li><li>String.prototype.replace()</li><li>String.prototype.padStart()</li><li>String.prototype.padEnd()</li><li>String.prototype.trimStart()</li><li>String.prototype.trimEnd()</li><li>String.prototype.matchAll()</li></ul>`,41),e=[o];function t(c,r,y,i,E,F){return a(),n("div",null,e)}const g=s(p,[["render",t]]);export{d as __pageData,g as default};
